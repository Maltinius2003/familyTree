#:kivy 1.0.9

<GenderButton@MDRectangleFlatButton>:
    theme_text_color: 'Custom'
    text_color: (1, 0, 0, 1) if self.state == 'down' else (0, 0, 0, 1)

<AddFamilyTreeScreen>:
    name: 'addfamilytree'
    
    MDLabel:
        text: app.t('Create initial person:')
        halign: 'center'
        pos_hint: {'center_x':0.5,'center_y':0.9}

    FloatLayout:
        #Float Layout farbig machen
        #canvas.before:
        #    Color:
        #        rgba: 0, 1, 0, 1  # Green color
        #    Rectangle:
        #        pos: self.pos
        #        size: self.size
        GridLayout:
            cols: 4
            size_hint: 0.3, 0.05  # Adjust these values as needed
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
            #canvas.before:
            #    Color:
            #        rgba: 0, 0, 1, 1  # Blue color
            #    Rectangle:
            #        pos: self.pos
            #        size: self.size
            GenderButton:
                text: app.t('M')
                group: 'gender'
                on_release: root.setGender(self, 'm')
                size_hint: 1, 1
                state: 'down' if root.getGender(self) == 'M' else 'normal'

            GenderButton:
                text: app.t('F')
                group: 'gender'
                on_release: root.setGender(self, 'f')
                size_hint: 1, 1
                state: 'down' if root.getGender(self) == 'F' else 'normal'

            GenderButton:
                text: app.t('D')
                group: 'gender'
                on_release: root.setGender(self, 'd')
                size_hint: 1, 1
                state: 'down' if root.getGender(self) == 'D' else 'normal'

            GenderButton:
                text: app.t('U')
                group: 'gender'
                on_release: root.setGender(self, 'u')
                size_hint: 1, 1
                state: 'down' if root.getGender(self) == 'U' else 'normal'


    MDTextField:
        id: firstname
        hint_text: app.t('First Name')
        helper_text: app.t('Enter First name e.g. Hans, Hans-Peter, Hans-Peter-Paul')
        helper_text_mode: 'on_focus'
        pos_hint: {'center_x':0.5,'center_y':0.7}
        size_hint_x: None
        width: 300
        on_text: root.checkFirstName(self)
        on_focus: root.checkDashOrSpaceAtEnd(self)
        
    MDTextField:
        id: seconsnames
        hint_text: app.t('Second Name(s)')
        helper_text: app.t('Enter Second name(s) e.g. Peter, Peter-Paul, Peter Paul, Peter-Paul Dieter')
        helper_text_mode: 'on_focus'
        pos_hint: {'center_x':0.5,'center_y':0.6}
        size_hint_x: None
        width: 300
        on_text: root.checkSecondNames(self)
        on_focus: root.checkDashOrSpaceAtEnd(self)

    MDTextField:
        id: lastname
        hint_text: app.t('Last Name')
        helper_text: app.t('Enter Last name')
        helper_text_mode: 'on_focus'
        pos_hint: {'center_x':0.5,'center_y':0.5}
        size_hint_x: None
        width: 300
        on_text: root.checkLastName(self)
        on_focus: root.checkDashOrSpaceAtEnd(self)

    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press: root.manager.current = 'menu'
